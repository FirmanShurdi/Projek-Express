{"version":3,"sources":["detail.js"],"names":["express","require","router","Router","db","get","req","res","objekId","params","id","sql","query","err","results","console","error","status","send","length","render","message","objek","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,EAAE,GAAGH,OAAO,CAAC,OAAD,CAAhB;;AAEAC,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/B,MAAMC,OAAO,GAAGF,GAAG,CAACG,MAAJ,CAAWC,EAA3B;AAEA,MAAMC,GAAG,qIAAT;AAOAP,EAAAA,EAAE,CAACQ,KAAH,CAASD,GAAT,EAAc,CAACH,OAAD,CAAd,EAAyB,UAACK,GAAD,EAAMC,OAAN,EAAkB;AACzC,QAAID,GAAJ,EAAS;AACPE,MAAAA,OAAO,CAACC,KAAR,CAAc,+BAAd,EAA+CH,GAA/C;AACA,aAAON,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,2BAArB,CAAP;AACD;;AAED,QAAIJ,OAAO,CAACK,MAAR,KAAmB,CAAvB,EAA0B;AACxB,aAAOZ,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBG,MAAhB,CAAuB,OAAvB,EAAgC;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAhC,CAAP;AACD;;AAED,QAAMC,KAAK,GAAGR,OAAO,CAAC,CAAD,CAArB;AACAP,IAAAA,GAAG,CAACa,MAAJ,CAAW,QAAX,EAAqB;AAAEE,MAAAA,KAAK,EAALA;AAAF,KAArB;AACD,GAZD;AAaD,CAvBD;AA0BAC,MAAM,CAACC,OAAP,GAAiBtB,MAAjB","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nvar db = require('../db');\r\n\r\nrouter.get('/:id', (req, res) => {\r\n  const objekId = req.params.id;\r\n\r\n  const sql = `\r\n    SELECT o.*, k.nama_kategori \r\n    FROM objek o \r\n    LEFT JOIN kategori k ON o.kategori_id = k.id \r\n    WHERE o.id = ?\r\n  `;\r\n\r\n  db.query(sql, [objekId], (err, results) => {\r\n    if (err) {\r\n      console.error('Gagal mengambil detail objek:', err);\r\n      return res.status(500).send('Gagal memuat detail objek');\r\n    }\r\n\r\n    if (results.length === 0) {\r\n      return res.status(404).render('error', { message: 'Objek tidak ditemukan' });\r\n    }\r\n\r\n    const objek = results[0];\r\n    res.render('detail', { objek });\r\n  });\r\n});\r\n\r\n\r\nmodule.exports = router;\r\n"],"file":"detail.dev.js"}