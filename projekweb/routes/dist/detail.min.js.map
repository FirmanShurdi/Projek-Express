{"version":3,"sources":["detail.js"],"names":["express","require","router","Router","req","objekId","params","id","db","query","status","err","results","console","error","length","send","res","render","message","objek","module","exports"],"mappings":"aAAA,IAAIA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,GAAAA,QAAUC,SACdC,OAAIA,IAAM,OAAGF,SAAOI,EAACD,GAInB,IAAME,EAAUD,EAAIE,OAAOC,GAYvBC,GAAAC,MAVK,mIAUK,CAACC,GAAJ,SAAAC,EAAAC,GACR,GAAAD,EAED,OAJEE,QAAQC,MAAM,gCAAiCH,GAI7CC,EAAQG,OAAR,KAAJC,KAA0B,6BACe,GAAvC,IAAAJ,EAAAG,OACD,OAAAE,EAAAP,OAAA,KAAAQ,OAAA,QAAA,CAAAC,QAAA,0BAGDF,IAAIC,EAAON,EAAU,GAAEQ,EAAAA,OAAAA,SAAAA,CAAAA,MAAAA,QAK3BC,OAAOC,QAAUpB","file":"detail.min.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nvar db = require('../db');\r\n\r\nrouter.get('/:id', (req, res) => {\r\n  const objekId = req.params.id;\r\n\r\n  const sql = `\r\n    SELECT o.*, k.nama_kategori \r\n    FROM objek o \r\n    LEFT JOIN kategori k ON o.kategori_id = k.id \r\n    WHERE o.id = ?\r\n  `;\r\n\r\n  db.query(sql, [objekId], (err, results) => {\r\n    if (err) {\r\n      console.error('Gagal mengambil detail objek:', err);\r\n      return res.status(500).send('Gagal memuat detail objek');\r\n    }\r\n\r\n    if (results.length === 0) {\r\n      return res.status(404).render('error', { message: 'Objek tidak ditemukan' });\r\n    }\r\n\r\n    const objek = results[0];\r\n    res.render('detail', { objek });\r\n  });\r\n});\r\n\r\n\r\nmodule.exports = router;\r\n"]}